<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>myshell_00000111.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>myshell_00000111.java</CENTER></H3><HR>
<PRE>
package myshell;
import java.io.*;
import java.util.ArrayList;
<font color="#C0C0C0"><EM>import java.util.Arrays;
import java.util.Date;
import java.util.Scanner;
import java.text.*;

public class myshell_00000111 {
	
	public static void main(String[] args) throws IOException{
	
		Scanner scanner = new Scanner (System.in);</EM></font>
		String commandLine;
		ArrayList &lt;String&gt; history = new ArrayList&lt;String&gt;();
		String[] list = {&quot;notepad.exe&quot;};
		BufferedReader console = new BufferedReader (new InputStreamReader(System.in));

		System.out.println(&quot;My Shell Version 0.01&quot;);
		
		boolean flag = false;

		while (true) {<font color="#C0C0C0"><EM>
			System.out.print(&quot;00000111 &gt; &quot;);
			commandLine = console.readLine();
			ArrayList commandParams = new ArrayList();
	        String[] commandSplit = commandLine.split(&quot; &quot;);
	          
	          if (commandSplit.length &gt; 1) {
	        	  for (int i = 1; i &lt; commandSplit.length; i++) {
	        		  commandParams.add(commandSplit[i]);
	              }
	          }
	          
	          if (commandSplit[0].equals(&quot;&quot;)) {
	                continue;</EM></font>
	          }
	          
	          if (commandSplit[0].equals(&quot;about&quot;)) {
	        	  System.out.println(&quot;Author: Joseph Ting&quot;);
	        	  System.out.println(&quot;Version: 0.01&quot;);
	          }<font color="#C0C0C0"><EM>
	          
	          if (commandSplit[0].equals(&quot;time&quot;)) {
	        	  Date time = new Date();
	              SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);
	              System.out.println(sdf.format(time));
	          }
	            
	          if (commandSplit[0].equals(&quot;date&quot;)) {
	        	  Date date = new Date();
	              SimpleDateFormat sdf = new SimpleDateFormat(&quot;E dd/MM/yyyy&quot;);
	              System.out.println(sdf.format(date));
	          }
	          
	          if (commandSplit[0].equals(&quot;exit&quot;)) {
	        	  System.exit(0);
	          }
	            
	          if (commandSplit[0].equals(&quot;notepad&quot;)) {</EM></font>
	        	  ProcessBuilder pb = new ProcessBuilder (list);
	        	  pb.start();
	          }
	          
	          if (!(commandSplit[0].equals(&quot;about&quot;) || commandSplit[0].equals(&quot;time&quot;) || 
	        		commandSplit[0].equals(&quot;date&quot;) || commandSplit[0].equals(&quot;exit&quot;) ||
	        		commandSplit[0].equals(&quot;notepad&quot;) || commandSplit[0].equals(&quot;ls&quot;) ||
	        		commandSplit[0].equals(&quot;hist&quot;) )) {
	        	  System.out.println(&quot;Invalid command&quot;);
	        	  	flag = true;
	          }
	          
<A NAME="0"></A>	          if (commandSplit[0].equals(&quot;ls&quot;)) {
	        	  if(commandParams.size()&gt;0) {
	        		  if (commandParams.get(0).equals(&quot;-f&quot;)) {
	        		  File dir = new File(&quot;<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match94-1.html#0',3,'match94-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.&quot;);
	        		  File[] f = dir.listFiles();
	        		  	for (File file: f) {
	        		  		if (file.isFile()) {
	        		  			System.out.println(&quot;file: &quot; + file.getName());
		       				}
	          			}
<A NAME="1"></A>	        		  }
	        		  
	        		  if (commandParams.get(0).equals(&quot;-d&quot;)) {</B></FONT>
	          		  File dir = new File<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match94-1.html#1',3,'match94-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>(&quot;.&quot;);
	          		  File[] f1 = dir.listFiles();
	          		  	for (File file: f1) {
	          		  		if (file.isDirectory()) {
         						System.out.println(&quot;directory: &quot; + file.getName());
         					}
         				}
	        		  }
<A NAME="2"></A>	        	  }</B></FONT>
	        	  
	        	  else {
	          			File dir = new File(&quot;.&quot;);<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match94-1.html#2',3,'match94-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
	          			File[] fileList = dir.listFiles();
	       					for (File file : fileList) {
	       						if (file.isFile()) {</B></FONT>
	       							System.out.println(&quot;file: &quot; + file.getName());
	       						}
	       						else {
	       							System.out.println(&quot;directory: &quot; + file.getName());	
	       						}
	       					}
	       		  }
	          }<font color="#C0C0C0"><EM>
	          
	          if (commandSplit[0].equals(&quot;hist&quot;)) {
	                if (commandParams.size() &lt; 1) {
	                    System.out.println(&quot;Error : Not enough input argument(s). Please enter hist -h for help.&quot;);
	                } </EM></font>
	                
	                if (commandParams.size()==1 || commandParams.size() == 2) {<font color="#C0C0C0"><EM>
	                    if (commandParams.get(0).equals(&quot;-h&quot;)) {
	                        System.out.println(&quot;hist -l [int] : Retrieve the last [int] commands entered by the user.&quot;);
	                        System.out.println(&quot;hist -c : Clear the command history.&quot;);
	                    }
	                   
	                    if (commandParams.get(0).equals(&quot;-l&quot;)) {</EM></font>
	                    	int j = Integer.parseInt(commandSplit[2]);
		                    	if (j &gt; history.size()) {
		                    		for (int x = 0; x &lt; history.size() ; x++) {
		                    			System.out.println(history.get(x));	
		                    		}
		                    	}
		                    	else if (j&lt;0) {
		                    		System.out.println(&quot;This is an invalid number.&quot;);
		                    	}
		                    	else {
		                    		for (int x = history.size() - j ; x &lt; history.size() ; x++) {
		                    			System.out.println(history.get(x));
		                    		}
		                    	}
	                    }
	                    	                    
	                    if (commandParams.get(0).equals(&quot;-c&quot;)) {
<A NAME="3"></A>	                    	flag = true;
	                    	history.clear();
	                    	System.out.println(&quot;Deleted: All command history.&quot;);
	                    }   <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match94-1.html#3',3,'match94-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
	                }
	                
	                if (commandParams.size() == 3) {
	                	if (commandParams.get(0).equals(&quot;-c&quot;) &amp;&amp; commandParams.get(1).equals(&quot;-l&quot;)) {</B></FONT>
	                		if (commandParams.get(0).equals(&quot;-c&quot;)) {
		                		flag = true;
		                		history.clear();
		                		System.out.println(&quot;Deleted: All command history.&quot;);
	                		}
	                	}
	                	
	                	if (commandParams.get(0).equals(&quot;-l&quot;) &amp;&amp; commandParams.get(2).equals(&quot;-c&quot;)){
	                		if (commandParams.get(0).equals(&quot;-l&quot;)) {
	                			int j = Integer.parseInt(commandSplit[2]);
	                				if (j &gt; history.size()) {
	                					for (int x = 0; x &lt; history.size(); x++) {
	                						System.out.println(history.get(x));
	                					}
	                				}
	                				else if (j &lt; 0) {
	                					System.out.println(&quot;This is an invalid number.&quot;);
	                				}
	                				else {
	                					for (int x = history.size() - j ; x &lt; history.size(); x++) {
	                						System.out.println(history.get(x));
	                					}
	                				}
	                		}
	                		
	                		if (commandParams.get(2).equals(&quot;-c&quot;)) {
<A NAME="4"></A>                			flag = true;
	                		history.clear();
	                		System.out.println(&quot;Deleted: All command history.&quot;);
	                		}<FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match94-1.html#4',3,'match94-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
	                		
	                	}
	                }
	          }
	          	if (flag == false) {
	          		history.add(commandLine);  
	          	}</B></FONT>
	          	flag = false;
		}
			
	}
}
</PRE>

</BODY>
</HTML>
