<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>myshell_00000034.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>myshell_00000034.java</CENTER></H3><HR>
<PRE>
import java.io.File;
import java.text.SimpleDateFormat;
import java.util.*;


public class myshell_00000034 {
	
	public static void about(){
		System.out.println(&quot;Author: Foong Sheng Woei&quot;);
		System.out.println(&quot;Version: 0.01&quot;);
	}
	
	public static void getDate(){
		 Date date = new Date();
         SimpleDateFormat sdf = new SimpleDateFormat(&quot;E dd/MM/yyyy&quot;);
         System.out.println(sdf.format(date));
	}
	
	public static void getTime(){
		 Date time = new Date();
         SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);
<A NAME="1"></A>         System.out.println(sdf.format(time));
	}
	
	public static void getFile(){<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match996-0.html#1',2,'match996-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
		File listF = new File(&quot;.&quot;);
		File[] fList = listF.listFiles();
		
		for(int i=0; i &lt; fList.length; i++){
			if (fList[i].isFile()) {
		        System.out.println(fList[i].getName());
		      }</B></FONT>
		}
	}
	
	public static void getDirectory(){
		File listF = new File(&quot;.&quot;);
		File[] fList = listF.listFiles();
		
		for(int i=0; i &lt; fList.length; i++){
			if (fList[i].isDirectory()) {
				System.out.println(fList[i].getName());
			}  
		}
	}
	
	public static void error(){
		System.out.println(&quot;Invalid command&quot;);
	}
	
	public static void main (String [] args){
	
		Scanner input = new Scanner(System.in);
		ArrayList&lt;String&gt; hList = new ArrayList&lt;String&gt;();
		
		System.out.println(&quot;Welcome to myshell&quot;);
		
		while(true){
			System.out.print(&quot;00000034 &gt; &quot;);
			String uInput = input.nextLine();
			String[] uInputC= uInput.split(&quot;\\s+&quot;);
			
			if(uInput.isEmpty()){
				continue;
			}
			
			if(uInputC.length == 1){
				
				if(uInput.equalsIgnoreCase(&quot;about&quot;)){
					about();
					hList.add(&quot;about&quot;);
					continue;
				}
				else if(uInput.equalsIgnoreCase(&quot;date&quot;)){
					getDate();
					hList.add(&quot;date&quot;);
					continue;
				}	
<A NAME="0"></A>				else if(uInput.equalsIgnoreCase(&quot;time&quot;)){
					getTime();
					hList.add(&quot;time&quot;);
					continue;<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match996-0.html#0',2,'match996-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
				}	
				else if(uInput.equalsIgnoreCase(&quot;exit&quot;)){
					System.out.println(&quot;Thank you for using myshell&quot;);
					System.exit(0);
				}
				else if(uInput.equalsIgnoreCase(&quot;note</B></FONT>pad&quot;)){
					try{
						ProcessBuilder build = new ProcessBuilder(&quot;notepad.exe&quot;);
						build.start();
						hList.add(&quot;notepad&quot;);
					}
					catch (Exception e){
						System.out.println(&quot;Error: &quot; + e);
					}
					
				}
				else if(uInput.equalsIgnoreCase(&quot;ls&quot;)){
<A NAME="3"></A>					getFile();
					getDirectory();
					hList.add(&quot;ls&quot;);
				}<FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match996-0.html#3',2,'match996-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
				else {
					error();
				}</B></FONT>
				
			}
			else if (uInputC.length &gt; 1 &amp;&amp; uInputC.length &lt; 5){
				
				int cSave = 1;
			
				if(uInputC[0].equalsIgnoreCase(&quot;hist&quot;)){
		
					for (int x = 1; x &lt; uInputC.length; x++){
			
						if(uInputC[x].equalsIgnoreCase(&quot;-l&quot;)){
							
							int numfile,done = 0;
							
							try{
								numfile = Integer.parseInt(uInputC[x +1]);
							}
							catch (Exception e){
								System.out.println(&quot;Error! Invalid value entered&quot;);
								cSave = 0;
								break;
							}
							
							if(numfile &lt; 1){
								System.out.println(&quot;Error! Invalid value entered&quot;);
								cSave = 0;
								break;
							}
							for(int y = hList.size() - numfile + 1; y &lt; hList.size() + 1; y++){
								try{	
									System.out.println(hList.get(y - 1));
								}
								catch(Exception e){
								}	
								done = 1;
							}
							
							try{
								if (uInputC[3].equalsIgnoreCase(&quot;-c&quot;)){
									System.out.println(&quot;Command history cleared&quot;);
									hList.clear();
									cSave = 0;
									break;
								}
								else {
									cSave = 1;
									break;
								}
							}
							catch (Exception e){
								
							}
							
							if(done == 1){
								break;
							}
						}
				
						else if (uInputC[x].equalsIgnoreCase(&quot;-c&quot;)){	
							System.out.println(&quot;Command history cleared&quot;);
							hList.clear();
							cSave = 0;
							break;
						}
						
						else {
							error();
							cSave = 0;
							break;
						}
					}
<A NAME="2"></A>					
					if (cSave == 1){
						hList.add(uInput);
					}<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match996-0.html#2',2,'match996-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
				}
				
				else if(uInputC[0].equalsIgnoreCase(&quot;ls&quot;) &amp;&amp; uInputC.length &lt; 3){
					
					
					if(uInputC[1].equalsIgnoreCase(&quot;-f&quot;)){
						getFile();</B></FONT>
						hList.add(uInput);
					}
					else if(uInputC[1].equalsIgnoreCase(&quot;-d&quot;)){
						getDirectory();
						hList.add(uInput);
					}
						
					else {
						error();
					}
				}
				else {
					error();
				}
			}
			else {
				error();
			}
		}
	}
}
</PRE>

</BODY>
</HTML>
