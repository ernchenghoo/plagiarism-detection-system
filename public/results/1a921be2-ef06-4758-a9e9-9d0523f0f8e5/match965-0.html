<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>myshell_00000151.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>myshell_00000151.java</CENTER></H3><HR>
<PRE>
	
package myshell;


	import <font color="#C0C0C0"><EM>java.io.*;
	import java.util.ArrayList;
	import java.util.Date;
	import java.text.*;

	 public class myshell_00000151 {


	    public static void main(String[] args) throws IOException {

	        //Use commandLine to store the command and the argument(s).
	        String commandLine;

	        //Read and buffered the command and the argument(s).
	        BufferedReader console = new BufferedReader(new InputS</EM></font>treamReader(System.in));
	        ArrayList input = new ArrayList();
	        File file = null; //for file manipulation
	        String[]paths; // get all path
	        File[]path2;
	        
	        String [] notepad= {&quot;notepad.exe&quot;};
	        file = new File(&quot;/Users//paridhiramgoolam//desktop//testfolder&quot;);   //file path for MAC OS AND (the testfolder contains folders: test_folder and test_file.txt)
	        
	        
	        while (<font color="#C0C0C0"><EM>true) {
	            
	            //Remember to replace &quot;student_id&quot; with your student number.
	            System.out.print(&quot;00000151 &gt; &quot;);

	            //Read the input from user.
	            commandLine = console.readLine();

	           
	            ArrayList commandParams = new ArrayList();
	            String[] commandSplit = commandLine.split(&quot; &quot;);

	            //Check to see if there is any parameter.
	            //If size of commandSplit is larger than one that means the user has included some parameters in the input.
	            if (commandSplit.length &gt; 1) {
	                //Add the parameters into commandParams
	                for (int i = 1; i &lt; commandSplit.length; i++) {
	                    commandParams.add(commandSplit[i]);
	                }
	            }

	            
	            if (commandSplit[0].equals(&quot;&quot;)) {
	                continue;
	            }
	            
	            //Print name and version
	            if (commandSplit[0].equals(&quot;about&quot;)) {</EM></font>
	            	System.out<font color="#C0C0C0"><EM>.println(&quot;author: Ramgoolam Paridhi\nversion: 0.01&quot;);
	            	input.add(&quot;about&quot;);
	            }
	            
	            //Print the current time.
	            if (commandSplit[0].equals(&quot;time&quot;)) {
	                Date time = new Date();
<A NAME="0"></A>	                //Format the output in hour:minute:second AM/PM format
	                SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);
	                System.out.println(sdf.format(time))</EM></font>;
	                input.a<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match965-1.html#0',3,'match965-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>dd(&quot;time&quot;);
	            }
	            
	            //Print today's date.
	            if (commandSplit[0].equals(&quot;date&quot;)) {
	                Date date = new Date();
	                //Format the output in day/month/year format
	                SimpleDateFormat sdf = new SimpleDateFormat(&quot;E dd/MM/yyyy&quot;);</B></FONT>
	                System.out.println(sdf.format(date));
	                input.add(&quot;date&quot;);
	            }<font color="#C0C0C0"><EM>
	            
	            //Exit the console when &quot;exit&quot; is entered.
	            if (commandSplit[0].equals(&quot;exit&quot;)) {
	                System.exit(0);
	            }
	            
	            //Notepad (DOES NOT OPEN FOR MAC )
	            
	            if (commandSplit[0].equals(&quot;notepad&quot;)) {</EM></font>
					input.add(&quot;notepad&quot;);
					ProcessBuilder pb = new ProcessBuilder(notepad);
					try {

						pb.start();
					} catch (IOException ex) {

					}


				}
	            //To retrieve files and folders (or directories) from the current directory
	            if (commandSplit[0].equals(&quot;ls&quot;)) {
	               
	            	try {
						for (int i =1 ;i&lt;commandSplit.length;i++) {

							commandParams.add(commandSplit[i]);
						}

					}
	            	catch (IndexOutOfBoundsException e) {
	            		
	            	}
	            	if (commandParams.size() &lt; 1) {
						input.add(&quot;ls&quot;);


						try {      
								
							paths = file.list(); // array of files and directory

							
							for(String path:paths) {     // for each name in the path array
														
								System.out.println(path);	// prints filename and directory name
							}
	            		}
	            		catch (Exception e) {
	            			
	            		}
	            		
	            	}
	            	
	            	else {
	            		try {
	            			if (commandParams.get(0).equals(&quot;-f&quot;)) { 
<A NAME="1"></A>								input.add(&quot;ls -f&quot;);
								path2=file.listFiles();

								for(File path:path2) {<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match965-1.html#1',3,'match965-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>

									if (path.isFile()){ // if file
										System.out.println(path.getName());
									}
	            				}
	            			}
	            			
	            			if (commandParams.get(0).equals(&quot;-d&quot;)) { </B></FONT>
								
<A NAME="2"></A>								input.add(&quot;ls -d&quot;);
								path2=file.listFiles();

								for(File path:path2) {<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match965-1.html#2',3,'match965-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>

									if (!path.isFile()){	// if not file 
										System.out.println(path.getName());
									}
								}


							}
	            			
	            		}</B></FONT>
	            		catch (IndexOutOfBoundsException e) {
	            		
	            	}
	            		
	            		
	            }
	          }<font color="#C0C0C0"><EM>
	            
	            //Example of a built-in function that can be used to print the command history. 
	            
	            if (commandSplit[0].equals(&quot;hist&quot;)) {
	                if (commandParams.size() &lt; 1) {
	                    System.out.println(&quot;Error : Not enough input argument(s). Please enter hist -h for help.&quot;);
	                }
	                
	               
	                
	                else {
	                	
	                	if (commandParams.get(0).equals(&quot;-h&quot;)) {
                        System.out.println(&quot;hist -l [int] : Retrieve the last [int] commands entered by the user.&quot;);
                        System.out.println(&quot;hist -c : Clear the command history.&quot;);
                    }</EM></font>
	                    //Process based on the number of parameters attached to the command.
	                	try {
							for (int i =1 ;i&lt;commandSplit.length;i++) {

								commandParams.add(commandSplit[i]);
							}

						}
	                	
	                	catch (IndexOutOfBoundsException e) {
	                		
	                	}
	                	
	                	if (commandParams.get(0).equals(&quot;-l&quot;)) { 

							try {

								String testsecond= (String)commandParams.get(1);	// converting an object into a string
								int second = Integer.parseInt(testsecond);	// type cast to integer


								for (int i=0;i&lt;second;i++)
								{
									System.out.println(input.get(i));  
								}

							}

							catch (IndexOutOfBoundsException e) {

							} 
							
							catch (NumberFormatException e) {
								System.out.println(&quot;not enough argument&quot;);

							} 
							
							

							finally {
								
								try {

								if (commandParams.get(2).equals(&quot;-c&quot;)) {
									input.clear();

								}
								}
								
								catch (IndexOutOfBoundsException e) {
									
								}
							}

						}


	                
	                if (com<font color="#C0C0C0"><EM>mandParams.get(0).equals(&quot;-c&quot;)) {
						
						input.clear();
	                }
	                
	            
	                }
	                
	            }</EM></font>
	            
	            if (!(commandSplit[0].equals(&quot;hist&quot;)||
	            		commandSplit[0].equals(&quot;ls&quot;)||
<A NAME="3"></A>	            				commandSplit[0].equals(&quot;time&quot;)||
	            						commandSplit[0].equals(&quot;about&quot;)||
	            								commandSplit[0].equals(&quot;date&quot;)||
	            										commandSplit[0].equals(&quot;notepad&quot;) )  ){<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match965-1.html#3',3,'match965-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
	            	
	            							System.out.println(&quot;Invalid command&quot;);
	            						}
	            
	        }
	    }
	}</B></FONT>


</PRE>

</BODY>
</HTML>
